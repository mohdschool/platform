<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>منصة تواصل</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      font-family: 'El Messiri', sans-serif;
      color: #fff;
    }
    .card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
    }
    .logo-glow {
      filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.7));
    }
    .marquee {
      white-space: nowrap;
      overflow: hidden;
      box-sizing: border-box;
      background: rgba(255, 255, 255, 0.1);
      padding: 10px;
      border-radius: 10px;
      margin: 20px 0;
      font-size: 1.1rem;
    }
    .marquee span {
      display: inline-block;
      padding-left: 100%;
      animation: marquee 30s linear infinite;
    }
    @keyframes marquee {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    .data-card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 10px;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .data-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    .data-title {
      color: #ffd700;
      font-weight: bold;
      font-size: 1.2rem;
    }
    .data-value {
      color: #fff;
      font-size: 1.1rem;
    }
    .footer {
      background: rgba(0, 0, 0, 0.2);
      padding: 15px;
      border-radius: 12px;
      margin-top: 20px;
      text-align: center;
      font-size: 0.9rem;
      color: #fff;
    }
    .input-field {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: #fff;
    }
    .input-field:focus {
      background: rgba(255, 255, 255, 0.2);
      border-color: #ffd700;
    }
    .select-field {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: #fff;
    }
    .select-field:focus {
      background: rgba(255, 255, 255, 0.2);
      border-color: #ffd700;
    }
    .button-primary {
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      color: #1e3c72;
      font-weight: bold;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .button-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    .button-certificate {
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      color: #fff;
      font-weight: bold;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .button-certificate:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }
    .header-buttons {
      display: flex;
      gap: 10px;
    }
    .header-buttons button {
      background: linear-gradient(135deg, #4A90E2, #50A5E2);
      color: #fff;
      padding: 8px 16px;
      border-radius: 8px;
      font-weight: bold;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .header-buttons button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 12px;
      padding: 20px;
      max-width: 400px;
      width: 90%;
      text-align: center;
    }
    .modal-content h2 {
      color: #1e3c72;
      font-size: 1.5rem;
      margin-bottom: 10px;
    }
    .modal-content p {
      color: #333;
      font-size: 1.1rem;
    }
    .modal-content button {
      margin-top: 15px;
      padding: 10px 20px;
      border-radius: 8px;
      background: #4A90E2;
      color: #fff;
      font-weight: bold;
      border: none;
      cursor: pointer;
    }

    /* تحسين ألوان الجدول */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      padding: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      text-align: center;
      color: #1e3c72;
    }
    th {
      background-color: rgba(255, 255, 255, 0.2);
      color: #ffd700;
    }
    tr:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    /* قائمة منسدلة للأزرار */
    .dropdown {
      position: relative;
      display: inline-block;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: rgba(255, 255, 255, 0.9);
      min-width: 160px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
      z-index: 1;
      border-radius: 8px;
      overflow: hidden;
      opacity: 0;
      transition: opacity 0.3s ease, transform 0.3s ease;
      transform: translateY(-10px);
      right: 0; /* لجعل القائمة تظهر من اليمين */
    }
    .dropdown-content button {
      color: #1e3c72;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      width: 100%;
      text-align: right;
      border: none;
      background: none;
      cursor: pointer;
    }
    .dropdown-content button:hover {
      background-color: rgba(255, 255, 255, 0.7);
    }
    .dropdown.active .dropdown-content {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    /* تحسين عرض القائمة على الشاشات الصغيرة */
    @media (max-width: 768px) {
      .dropdown-content {
        position: fixed;
        top: 60px; /* تباعد من الأعلى */
        right: 10px; /* تباعد من اليمين */
        width: 90%; /* عرض القائمة */
        max-width: 200px; /* أقصى عرض */
      }
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
  <!-- الهيدر -->
  <div class="header">
    <h1 class="text-xl font-bold text-gold-500">منصة تواصل</h1>
    <div class="header-buttons">
      <div class="dropdown">
        <button class="dropdown-toggle" onclick="toggleDropdown()">القائمة ☰</button>
        <div class="dropdown-content">
          <button id="newsButton">المستجدات</button>
          <button id="feedbackButton">المقترحات والآراء</button>
          <button id="behaviorButton">منصة السلوك</button>
          <button id="scheduleButton">التوقيت الزمني للحصص</button>
          <button id="certificateButton">منصة الشهادات</button>
          <button id="healthSchoolButton">مدرستنا معززة للصحة</button>
          <button id="timetableButton">جدول الحصص</button>
          <button id="shortTest1Button">جدول امتحانات نهاية الفصل الدراسي الثاني  </button>
           <button id="ebdaa3">إبداعات معلمي مدرسة محمد بن سليمان الغافري </button>
           <button id="moh">الجدول اليومي لدبلوم التعليم العام   </button>

          <button id="noorPlatformButton">منصة نور</button>
        </div>
      </div>
    </div>
  </div>
   <!-- البطاقة الرئيسية -->
  <div class="card rounded-lg shadow-2xl p-8 max-w-md w-full text-center mt-20">
    <!-- شعار المدرسة -->
    <img src="https://j.top4top.io/p_3327lje811.jpg" alt="شعار المدرسة" class="mx-auto w-28 h-28 rounded-full shadow-md mb-6 logo-glow">

    <!-- اسم المنصة والمدرسة -->
    <h1 class="text-3xl font-bold text-gold-500 logo-glow">منصة تواصل</h1>
    <p class="text-gray-300 text-sm mb-6 logo-glow">مدرسة محمد بن سليمان الغافري</p>

    <!-- شريط تمرير مواعيد التقييم -->
    <div class="marquee">
      <span>🌟 مدرسة محمد بن سليمان الغافري ترحب بكم، حيث تتجدد الأفكار وتتغير الطرق، ويبقى الهدف ثابتًا واضحًا جليًا: التقدم بخطوات ثابتة نحو آفاق التقدم المعرفي بأحدث الأساليب والتقنيات. 🌟</span>
    </div>

    <!-- إدخال الرقم المدني للطالب -->
    <label for="studentId" class="block text-lg font-medium text-gold-500">أدخل الرقم المدني للطالب:</label>
    <input type="text" id="studentId" class="mt-2 mb-6 w-full p-3 rounded-lg input-field focus:outline-none">

    <!-- اختيار المادة -->
    <label for="subjectSelect" class="block text-lg font-medium text-gold-500">اختر المادة:</label>
    <select id="subjectSelect" class="mt-2 mb-6 w-full p-3 rounded-lg select-field focus:outline-none">
      <option value="">-- اختر المادة --</option>
      <option value="social">📚 الدراسات الاجتماعية</option>
      <option value="islamic">🕌 التربية الإسلامية</option>
      <option value="arabic5_9">📖 اللغة العربية (الصفوف 5-9)</option>
      <option value="arabic10">📖 اللغة العربية (الصف العاشر)</option>
      <option value="math5_9">➗ الرياضيات (الصفوف 5-9)</option>
      <option value="math10">📊 الرياضيات (الصف العاشر)</option>
      <option value="english5_9">📝 اللغة الإنجليزية (الصفوف 5-9)</option>
      <option value="english10">📝 اللغة الإنجليزية (الصف العاشر)</option>
      <option value="physics">🔬 الفيزياء </option>
      <option value="science">🧪 العلوم</option>
      <option value="chemistry">🧫 الكيمياء</option>
      <option value="biology">🌿 الأحياء</option>    
    </select>

    <!-- زر البحث -->
    <button id="fetchDataButton" class="w-full py-3 rounded-lg button-primary focus:outline-none">
      عرض البيانات
    </button>

    <!-- عرض النتائج -->
    <div id="result" class="mt-8 text-right"></div>

    <!-- تذييل المنصة -->
    <div class="footer">
      جميع الحقوق محفوظة © لإدارة مدرسة محمد بن سليمان الغافري
    </div>
  </div>

  <!-- نافذة المستجدات -->
  <div id="newsModal" class="modal">
    <div class="modal-content">
      <h2>🌟 مرحبًا بكم في منصة تواصل 🌟</h2>
      <p>إلى شركائنا في بناء هذا الصرح التعليمي الشامخ (<strong>أولياء أمور طلابنا الكرام</strong>) وإلى أبطال مدرستنا طلابنا النجباء الذين يشكلون بوصلتنا نحو المستقبل…</p>
      <p>من هنا … من مدرسة محمد بن سليمان الغافري ننطلق برؤية واضحة ورسالة تحمل في طياتها طموحًا لا يعرف الحدود.</p>
      <p>نقدم لكم منصتنا التعليمية (<strong>منصة تواصل</strong>) ليس كإضافة عابرة بل كدليلٍ حيّ على سعينا المستمر نحو التميز واستلهامًا لمسؤوليتنا المشتركة في تحقيق الريادة.</p>
      <p>نحن لا نبحث عن مجرّد تصدر القوائم ولا نركض خلف أضواء الشهرة بل نطمح لأن تكون هذه المدرسة منارةً تعليميةً أولى في سلطنة عُمان لا لذاتها بل لأجل أبنائها ليحجزوا مواقعهم في مقدمة المشهد العلمي ، في أرقى الجامعات ، وفي أعظم الميادين الفكرية والمعرفية محليًا وعالميًا.</p>
      <p>نحن هنا لأن المستقبل يبدأ من هنا.</p>
      <button id="closeModalButton">إغلاق</button>
    </div>
  </div>

  <!-- نافذة الجدول الزمني للحصص -->
  <div id="scheduleModal" class="modal">
    <div class="modal-content">
      <h2 class="text-xl font-bold text-gold-500 mb-6">🗓️ الجدول الزمني للحصص الدراسية  </h2>
      <table>
        <thead>
          <tr>
            <th>الحصة</th>
            <th> المدة</th>
            <th> من </th>
             <th> إلى </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>الطابور </td>
            <td>15 دقيقة</td>
            <td>7:10 </td>
            <td>7:25 </td>
          </tr>
          <tr>
            <td>الحصة الأولى</td>
            <td>40 دقيقة</td>
            <td>7:25</td>
            <td>8:05</td>
          </tr>
          <tr>
            <td>الحصة الثانية</td>
            <td>40 دقيقة</td>
            <td>8:10</td>
            <td>8:50</td>
          </tr>
          <tr>
            <td>الحصة الثالثة</td>
            <td>40 دقيقة</td>
            <td>8:55</td>
            <td>9:35</td>
          </tr>
          <tr>
            <td>الحصة الرابعة</td>
            <td>40 دقيقة</td>
            <td>9:40</td>
            <td>10:20</td>
          </tr>
          <tr>
            <td>الفسحة</td>
            <td>25 دقيقة</td>
            <td>10:20</td>
            <td>10:42</td>
          </tr>
          <tr>
            <td>الحصة الخامسة</td>
            <td>40 دقيقة </td>
            <td>10:45</td>
            <td>11:25</td>
          </tr>
          <tr>
            <td>الحصة السادسة</td>
            <td>40 دقيقة</td>
            <td>11:30</td>
            <td>12:10</td>
          </tr>
          <tr>
            <td>الحصة السابعة</td>
            <td>40 دقيقة</td>
            <td>12:10</td>
            <td>12:50</td>
          </tr>
          <tr>
            <td>الحصة الثامنة</td>
            <td>40 دقيقة</td>
            <td>12:50</td>
            <td>01:30</td>
          </tr>
        </tbody>
      </table>
      <button id="closeScheduleModalButton" class="mt-6 w-full py-3 rounded-lg button-primary focus:outline-none">
        إغلاق
      </button>
    </div>
  </div>

  <script>
    // وظيفة لفتح وإغلاق القائمة المنسدلة
    function toggleDropdown() {
      const dropdown = document.querySelector('.dropdown');
      dropdown.classList.toggle('active');
    }

    // إغلاق القائمة المنسدلة عند النقر خارجها
    document.addEventListener('click', (event) => {
      const dropdown = document.querySelector('.dropdown');
      if (!dropdown.contains(event.target)) {
        dropdown.classList.remove('active');
      }
    });

    // فتح نافذة المستجدات
    document.getElementById('newsButton').addEventListener('click', () => {
      document.getElementById('newsModal').style.display = 'flex';
    });

    // إغلاق نافذة المستجدات
    document.getElementById('closeModalButton').addEventListener('click', () => {
      document.getElementById('newsModal').style.display = 'none';
    });

    // فتح رابط المقترحات والآراء
    document.getElementById('feedbackButton').addEventListener('click', () => {
      window.open("https://docs.google.com/forms/d/e/1FAIpQLScxSf0YQ5K1OyJhwh-LuzHlYD7qPlMi6wRRHai7hYWEF3Z1cg/viewform?usp=header", "_blank");
    });

    // فتح رابط منصة السلوك
    document.getElementById('behaviorButton').addEventListener('click', () => {
      window.open("https://mohdschool.github.io/behavior/", "_blank");
    });

    // فتح نافذة الجدول الزمني للحصص
    document.getElementById('scheduleButton').addEventListener('click', () => {
      document.getElementById('scheduleModal').style.display = 'flex';
    });

    // إغلاق نافذة الجدول الزمني للحصص
    document.getElementById('closeScheduleModalButton').addEventListener('click', () => {
      document.getElementById('scheduleModal').style.display = 'none';
    });

    // فتح رابط الشهادات
    document.getElementById('certificateButton').addEventListener('click', () => {
      window.open("https://mohdschool.github.io/certificate/", "_blank");
    });

    // فتح رابط مدرستنا معززة للصحة
    document.getElementById('healthSchoolButton').addEventListener('click', () => {
      window.open("https://mohdschool.github.io/12A/", "_blank");
    });

    // فتح رابط جدول الحصص
    document.getElementById('timetableButton').addEventListener('click', () => {
      window.open("https://moh7211.edupage.org/timetable/", "_blank");
    });

    // فتح رابط جدول اختبار قصير 1
    document.getElementById('shortTest1Button').addEventListener('click', () => {
      window.open("https://mohdschool.github.io/7211/", "_blank");
    });
      // فتح رابط إبداعات معلمي مدرسة محمد بن سليمان 
    document.getElementById('ebdaa3').addEventListener('click', () => {
      window.open("https://mohdschool.github.io/ebdaa3/", "_blank");
    });
  // فتح رابط الجدول اليومي لدبلوم التعليم العام
    document.getElementById('moh').addEventListener('click', () => {
      window.open("https://mohdschool.github.io/moh/", "_blank");
    });


    // فتح رابط منصة نور
    document.getElementById('noorPlatformButton').addEventListener('click', () => {
      window.open("https://lms.moe.gov.om/", "_blank");
    });

    // عرض بيانات الطالب
    document.getElementById('fetchDataButton').addEventListener('click', async () => {
      const studentId = document.getElementById('studentId').value.trim();
      const subject = document.getElementById('subjectSelect').value;
      const resultDiv = document.getElementById('result');

      if (!studentId || !subject) {
        alert('يرجى إدخال رقم الطالب واختيار المادة.');
        return;
      }

     const subjectLinks = {
        social: "https://docs.google.com/spreadsheets/d/e/2PACX-1vSFIgBQBnhabaxHKHqfKQCXqo1CINVKlZt10oI4nH5enwnXTeuMAOYxIdCbZPmdr2DlNBXjpolxCqFU/pub?gid=0&single=true&output=csv",
        islamic: "https://docs.google.com/spreadsheets/d/e/2PACX-1vTziRUgn9KjIrOgSxrUuMNHMd1QUkVmaQKC7iBBaX4h355nCOW92woD3mIkfMHhgJ2JACjIEnDRgSYJ/pub?gid=0&single=true&output=csv",
        arabic5_9: "https://docs.google.com/spreadsheets/d/e/2PACX-1vThjpWAjLmwDFHb3Ub_gBZdd5HnUlq7DgTR2RQR9ontGqrylOHHq7lSCEaka8fu50VkH5OHk6hvX9A1/pub?gid=0&single=true&output=csv",
        arabic10: "https://docs.google.com/spreadsheets/d/e/2PACX-1vTM6iQR-4fnD9KYBOpbcOfvXO7-a88-K6q92ZFB3qdGq583nFjMoMegW8MULOoybDsSIr1mNU6RvsuN/pub?gid=0&single=true&output=csv",
        math5_9: "https://docs.google.com/spreadsheets/d/e/2PACX-1vTDtoNYA9iUQr0Pjk0_hPIFYUFsDricAMFeeHnQ7ozlE3Mun2w2r7ezXT1MmH9-r-vCKSES_5kihPTr/pub?gid=0&single=true&output=csv",
        math10: "https://docs.google.com/spreadsheets/d/e/2PACX-1vRtOrt04XkbLCsuQTQhSpuxaxKQmJ_NF_ThauuSYBlNoQEWkEPs8xWUcDYDUQcctAXelNeFZxR4-uqZ/pub?gid=0&single=true&output=csv",
        english5_9: "https://docs.google.com/spreadsheets/d/e/2PACX-1vSFFnnz9YGNyyOd0Nd2c2cKCEQoElKl9u5XXIKApL-XV3qucYI-0j-S43_OsF-X8Hhtwj3NaEy7LpeL/pub?gid=0&single=true&output=csv",
        english10: "https://docs.google.com/spreadsheets/d/e/2PACX-1vSKhbG0SfWfab6k5v1rPy5DPa9w-6vgcrVTXm_yZr7QmfLOJi6tAOcAQVeKhztfXO9FtB5Px0e5Y6qb/pub?gid=0&single=true&output=csv",
        physics: "https://docs.google.com/spreadsheets/d/e/2PACX-1vQfKq9UFhhb8P7cTX4mtlRwzku1F5xZuVMxq_Qmfn3j0yCefJwzjOIEj0CrYG9Je9ubAdRwXZusMuYr/pub?gid=0&single=true&output=csv",
        science: "https://docs.google.com/spreadsheets/d/e/2PACX-1vShML8jSszGxHx6ESzcgf1DTYyPAvpeiYfhEt_6lxQ6xRBAeqbMa2blTI9lZVRXX-M5FNjAF4oRmLeY/pub?gid=0&single=true&output=csv",
        chemistry: "https://docs.google.com/spreadsheets/d/e/2PACX-1vRbz8zyGR6OwEPE8bZt6M22YtkiVdnhx2uuyBfUbMH6BW7725Tn5oHGlOcuGdxPPjw4dO-AJkaGW7ju/pub?gid=0&single=true&output=csv",
        biology: "https://docs.google.com/spreadsheets/d/e/2PACX-1vSk_TuS5L3YexPjYyLlIL6nHFAvkafQKGCYwwKw57vBo1FWF97RM5oSQPCVKZuWsD9egF5r9gErhzMn/pub?gid=0&single=true&output=csv"
      };


      resultDiv.innerHTML = '<p class="text-blue-400 font-semibold">🔄 جاري تحميل البيانات...</p>';

      try {
        const response = await fetch(subjectLinks[subject]);
        const csvData = await response.text();
        const rows = csvData.split('\n').map(row => row.split(','));

        const headers = rows[0];
        const studentRow = rows.find(row => row[1].trim() === studentId);

        if (!studentRow) {
          resultDiv.innerHTML = '<p class="text-red-400 font-semibold">❌ لم يتم العثور على بيانات لهذا الطالب.</p>';
          return;
        }

        // إنشاء عرض عمودي للبيانات
        let dataHTML = `<h2 class="text-xl font-bold text-gold-500 mb-6">📌 بيانات الطالب:</h2>`;
        headers.forEach((header, index) => {
          if (header && studentRow[index]) {
            dataHTML += `
              <div class="data-card">
                <div class="data-title">${header}</div>
                <div class="data-value">${studentRow[index]}</div>
              </div>
            `;
          }
        });

        resultDiv.innerHTML = dataHTML;

      } catch (error) {
        resultDiv.innerHTML = '<p class="text-red-400 font-semibold">م إيقاف خدمة استعلام الدرجات مؤقتًا خلال فترة الاختبارات، على أن يُستأنف العمل بها بعد انتهاء الاختبارات. متمنين لكم التوفيق والنجاح     .</p>';
      }
    });
  </script>
</body>
</html>

